# SimpleApi(Java, Spring Boot, Maven, Postgresql)

------------------------------------------------------------------------------------------------------------------------------------

### Дисциплина: "Технология разработки программного обеспечения"

### Лабораторная работы №1: Создание микросервиса на Spring Boot с базой данных Postgresql

### Выполнил: Арбатов Денис Кириллович (МБД2131)

Цель лабораторной работы: Проектирование многослойной архитектуры Web-API (веб-приложений, микро-сервисов). Создание API микросервиса с учётом современных архитектурных паттернов, CRUD-приложение
написанное на JAVA.
------------------------------------------------------------------------------------------------------------------------------------
Инструкция по сборке и запуску:

Для работы потребуется установленная среда разработки IntelliJ IDEA 2021.3 (Ultimate Edition). А также Docker — проект для автоматизации развертывания приложений в виде переносимых автономных контейнеров, 
выполняемых в облаке или локальной среде.
1. Необходимо клонировать репозиторий.
2. Запустить контейнер с базой данных Postgresql для теста приложения с помощью команды: docker run -e POSTGRES_PASSWORD=root -p 5432:5432 postgres 
3. Запустить файлы schema.sql, data.sql (src/main/resources/...) для создания таблиц и добавления данных в эти таблицы.
4. С помощью сборщика проектов MAVEN необходимо собрать образ для Docker. Во вкладке Maven/SimpleApi1/Lifecycle/package по двойному клику будет создан *.jar архив.
5. Далее необходимо произвести сборку образа: docker build . -t $IMAGE_NAME:latest
6. Запустить созданный образ командой: docker run -p 8080:8080 $IMAGE_NAME:latest

После запуска приложения его тестируем с помощью следующих команд:
1. Получим hostname: curl http://localhost:8080/api/v1/status
2. Получим список всех строк в таблице: curl http://localhost:8080/api/v1/drivers
3. Получим определённую строку из таблицы по его id: curl http://localhost:8080/api/v1/drivers/{id} 
4. Сохранение позиции в таблице curl -x POST http://localhost:8080/api/v1/drivers/	
   {
   "last_name": "Кудрявцев",
   "first_name": "Анатолий",
   "mid_name": "Иванович",
   "phone": "8-926-000-00-06",
   "rating": 8
   }
5. Удаление позиции в таблице по id: curl -x DELETE http://localhost:8080/api/v1/drivers/{id} 

![Alt Text](https://github.com/denis3079/SimpleApi/blob/master/Api_docker.gif | width=100)

